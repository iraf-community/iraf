# ONEDSPEC package.

$call	relink
$exit

update:
	$call	relink
	$call	install
	;

relink:
	$update	libpkg.a
	$omake	x_onedspec.x
	$link	x_onedspec.o libpkg.a\
		-lxtools -lcurfit -lgsurfit -liminterp -lllsq -o xx_onedspec.e
	;

install:
	$move	xx_onedspec.e noaobin$x_onedspec.e
	;

libpkg.a:
	@dispcor
	@ecidentify
	@fortran
	@identify
	@irsiids
	@scombine
	@sensfunc
	@splot

	getairm.x	
	getcalib.x	<error.h> <ctype.h>
	getextn.x	<error.h>
	odropenp.x	<ctype.h>
	onedinterp.x	<math/iminterp.h>
	shdr.x		shdr.h <error.h> <imset.h> <mwset.h> <imhdr.h>
	smw.x		<imio.h> <mwset.h> <imhdr.h>
	t_calibrate.x	<error.h> <imhdr.h> <math/iminterp.h> shdr.h
	t_deredden.x	<error.h> <imhdr.h> shdr.h
	t_dopcor.x	<error.h> <imhdr.h> shdr.h
	t_fitprofs.x	shdr.h <error.h> <gset.h> <imhdr.h> <imset.h> <time.h>
	t_lcalib.x	<ctype.h>
	t_mkspec.x	<imhdr.h>
	t_names.x	
	t_sapertures.x	<error.h> <imhdr.h>
	t_sarith.x	shdr.h <error.h> <imhdr.h> <mach.h>
	t_sfit.x	<error.h> <imhdr.h> shdr.h <math/curfit.h>\
			<pkg/gtools.h> <pkg/rg.h>
	t_sinterp.x	<imhdr.h> <math/curfit.h>
	t_slist.x	<error.h> <fset.h> <imhdr.h> shdr.h
	t_specplot.x	shdr.h specplot.h units.h <error.h> <gset.h>\
			<imhdr.h> <mach.h> <pkg/gtools.h>
	t_standard.x	<error.h> <gset.h> <imhdr.h> <mach.h> <pkg/gtools.h>\
			shdr.h
	units.x		units.h <error.h>
	;
