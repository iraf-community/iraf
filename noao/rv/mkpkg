# MKPKG file for the RV Package

$call relink
$exit

update:
	$call relink
	$call install
	;

relink:
	$set LIBS = "-lasttools -lsmw -lxtools -ldeboor -lcurfit -liminterp -lllsq -lnlfit"
	$update libpkg.a
	$omake x_rv.x
	$link -o xx_rv.e x_rv.o libpkg.a $(LIBS)
	;

install:
	$move xx_rv.e noaobin$x_rv.e
	;
	
libpkg.a:
	@rvidlines				# Update the libraries

	aplists.x	<smw.h> rvpackage.h
	coloncmds.x	rvpackage.h rvflags.h rvcont.h rvsample.h <fset.h> \
			<ctype.h> <error.h>
	complex.x	<math.h>
	contin.x	rvpackage.h rvflags.h rvcont.h
	continpars.x	rvpackage.h rvflags.h rvcomdef.h rvcont.h
	deblend.x	rvpackage.h rvflags.h <error.h> <mach.h> <gset.h>
	fftmode.x	rvpackage.h rvflags.h rvplots.h rvfilter.h <gset.h>
	fftutil.x	rvpackage.h rvflags.h rvplots.h <math.h> 
	filtpars.x	rvcomdef.h rvfilter.h rvpackage.h
	keywpars.x	rvcomdef.h rvkeywords.h rvpackage.h
	numrep.x	<mach.h> <math.h>
	plotpars.x	rvcomdef.h rvplots.h rvpackage.h rvflags.h
	prepspec.x	rvpackage.h rvflags.h rvsample.h <math.h> 
	readtlist.x	rvpackage.h rvflags.h <imhdr.h>
	rvanplot.x	rvpackage.h rvflags.h <gset.h> 
	rvbatch.x	rvflags.h rvpackage.h
	rvcolon.x	rvpackage.h rvflags.h rvcomdef.h <gset.h> <gio.h>
	rvcorrel.x	rvpackage.h rvfilter.h rvflags.h <math.h> 
	rvcursor.x	rvpackage.h rvflags.h rvcont.h rvplots.h rvfilter.h \
			<gset.h> <fset.h>
	rvdatacheck.x	rvpackage.h rvflags.h rvsample.h
	rvdrawfit.x	rvpackage.h rvflags.h rvsinc.com <gset.h> 
	rverrmsg.x	rvpackage.h rvflags.h
	rvfftcorr.x	rvflags.h rvpackage.h <math.h>
	rvfgauss.x	rvflags.h rvpackage.h fitcom.com <math/nlfit.h> \
			<gset.h> <math.h>
	rvfilter.x	rvpackage.h rvfilter.h rvsample.h <math.h> 
	rvfitfunc.x	rvflags.h rvpackage.h fitcom.com rvsinc.com <gset.h> 
	rvfparab.x	rvflags.h rvpackage.h fitcom.com <math/nlfit.h> \
			<gset.h> <math.h> 
	rvfuncs.x	<math.h> <mach.h>
	rvgetim.x	<smw.h> <units.h> rvpackage.h rvflags.h rvkeywords.h\
			rvsample.h
	rvimutil.x	rvpackage.h rvflags.h <fio.h> <imhdr.h>
	rvinit.x	rvpackage.h rvflags.h rvcont.h rvsample.h rvsinc.com \
			<error.h> <pkg/gtools.h>
        rvlinefit.x     <error.h> <mach.h> <gset.h> rvflags.h rvpackage.h
	rvparam.x	rvpackage.h rvflags.h rvsample.h
	rvplot.x	rvpackage.h rvflags.h rvplots.h rvsample.h <gset.h> 
	rvrebin.x	rvpackage.h rvflags.h rvcont.h  <error.h>
	rvrvcor.x	rvpackage.h rvflags.h rvkeywords.h <imio.h> <error.h>
	rvsample.x	rvpackage.h rvflags.h rvsample.h <gset.h> <ctype.h>
	rvsinc.x	rvpackage.h rvflags.h rvsinc.com <math.h> <mach.h>
	rvstrings.x	rvpackage.h rvflags.h rvfilter.h rvcont.h rvplots.h
	rvsumplot.x	rvpackage.h rvflags.h <gset.h> 
	rvutil.x	rvpackage.h rvflags.h rvcomdef.h rvkeywords.h \
			rvsample.h <gset.h>
	rvvfit.x	rvpackage.h rvflags.h rvcont.h
	rvwparam.x 	rvpackage.h rvcont.h rvcomdef.h rvflags.h <time.h>
	rvwrite.x	rvpackage.h rvflags.h rvkeywords.h rvsample.h \
			rvcont.h <imhdr.h> <time.h>
	specmode.x	rvpackage.h rvcomdef.h rvflags.h rvsample.h <gset.h> 
	splitplot.x	rvpackage.h rvflags.h rvplots.h rvsample.h <gset.h> 
	t_fxcor.x 	rvcomdef.h rvpackage.h rvflags.h rvsample.h <ctype.h> \
			<fio.h> <gset.h> <imhdr.h> <error.h>
	t_rvcorrect.x	<error.h>
	titles.x	rvpackage.h rvflags.h <gset.h> 
	wrtccf.x	rvpackage.h rvflags.h rvcont.h rvfilter.h <imhdr.h>
	zzdebug.x	rvpackage.h rvflags.h <imhdr.h> <error.h>
	;
